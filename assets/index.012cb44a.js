var M=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var o=(e,t,r)=>(M(e,t,"read from private field"),r?r.call(e):t.get(e)),d=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},g=(e,t,r,a)=>(M(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r);var p=(e,t,r)=>(M(e,t,"access private method"),r);const Q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const w of i)if(w.type==="childList")for(const N of w.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&a(N)}).observe(document,{childList:!0,subtree:!0});function r(i){const w={};return i.integrity&&(w.integrity=i.integrity),i.referrerpolicy&&(w.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?w.credentials="include":i.crossorigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function a(i){if(i.ep)return;i.ep=!0;const w=r(i);fetch(i.href,w)}};Q();class W{get items(){return JSON.parse(localStorage.getItem("todoList"))||[]}set(t){localStorage.setItem("todoList",JSON.stringify(t))}getItem(t){return this.items.find(({id:r})=>r===t)}setItem(t){const r=[...this.items],a=r.findIndex(({id:i})=>i===t.id);r[a]=t,localStorage.setItem("todoList",JSON.stringify(r))}}const y=new W;var b=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.COMPLETED=1]="COMPLETED",e))(b||{}),h,n,c,l,u,f,v,E,B,L,P,z,V,C,q,S,H,D,J,O,K,I,G;class A{constructor(t,r,a=b.DEFAULT){d(this,f);d(this,E);d(this,L);d(this,z);d(this,C);d(this,S);d(this,D);d(this,O);d(this,I);d(this,h,void 0);d(this,n,void 0);d(this,c,void 0);d(this,l,void 0);d(this,u,void 0);this.id=t,this.content=r,this.status=a}get isCompleted(){return this.status===b.COMPLETED}get isEditable(){return o(this,n).classList.contains("edit")}init(){g(this,n,document.createElement("div")),g(this,h,document.createElement("div")),g(this,c,document.createElement("input")),g(this,l,document.createElement("button")),g(this,u,document.createElement("button"))}build(){return p(this,E,B).call(this),p(this,L,P).call(this),p(this,C,q).call(this),p(this,S,H).call(this),p(this,O,K).call(this),o(this,n).appendChild(o(this,h)),o(this,n).appendChild(o(this,c)),o(this,n).appendChild(o(this,l)),o(this,n).appendChild(o(this,u)),o(this,n)}destroy(){[o(this,n),o(this,h),o(this,c),o(this,l),o(this,u)].forEach(t=>t&&t.remove())}}h=new WeakMap,n=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,f=new WeakSet,v=function(){y.setItem({id:this.id,content:this.content,status:this.status})},E=new WeakSet,B=function(){o(this,n).className="todo",o(this,n).id=this.id},L=new WeakSet,P=function(){o(this,h).className="status-control",this.isCompleted&&(o(this,n).classList.add("completed"),o(this,l).disabled=!0),o(this,h).addEventListener("click",()=>p(this,z,V).call(this))},z=new WeakSet,V=function(){if(this.isCompleted){o(this,n).classList.remove("completed"),this.status=b.DEFAULT,o(this,l).disabled=!1,p(this,f,v).call(this);return}o(this,n).classList.add("completed"),this.status=b.COMPLETED,o(this,l).disabled=!0,p(this,f,v).call(this)},C=new WeakSet,q=function(){o(this,c).className="edit-input",o(this,c).readOnly=!0,o(this,c).value=this.content,o(this,c).addEventListener("input",t=>{const r=t.target.value;o(this,c).value=r,this.content=r,p(this,f,v).call(this)})},S=new WeakSet,H=function(){o(this,l).textContent="Edit",o(this,l).addEventListener("click",()=>p(this,D,J).call(this))},D=new WeakSet,J=function(){if(this.isEditable){o(this,n).classList.remove("edit"),o(this,l).textContent="Edit",o(this,c).readOnly=!0;return}o(this,l).textContent="OK",o(this,n).classList.add("edit"),o(this,c).readOnly=!1},O=new WeakSet,K=function(){o(this,u).textContent="Delete",o(this,u).addEventListener("click",()=>p(this,I,G).call(this))},I=new WeakSet,G=function(){y.set(y.items.filter(({id:t})=>t!==this.id)),X(),this.destroy()};var x,Y=new Uint8Array(16);function Z(){if(!x&&(x=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!x))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(Y)}var _=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function tt(e){return typeof e=="string"&&_.test(e)}var s=[];for(var T=0;T<256;++T)s.push((T+256).toString(16).substr(1));function et(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!tt(r))throw TypeError("Stringified UUID is invalid");return r}function ot(e,t,r){e=e||{};var a=e.random||(e.rng||Z)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=a[i];return t}return et(a)}let m;function X(){m=y.items.map(({id:e,content:t,status:r})=>new A(e,t,r))}let k="";const $=document.querySelector("#todo-input"),rt=document.querySelector("#form"),U=document.querySelector(".todo-section");function F(){U.innerHTML="";let e=[...m];R==="filter-completed"&&(e=m.filter(({status:t})=>t===b.COMPLETED)),R==="filter-not-completed"&&(e=m.filter(({status:t})=>t===b.DEFAULT)),e.forEach(t=>{t.destroy(),t.init();const r=t.build();U.appendChild(r)})}$.addEventListener("input",e=>{k=e.target.value});rt.addEventListener("submit",e=>{if(e.preventDefault(),k.trim()===""){alert("please enter todo");return}m.push(new A(ot(),k)),y.set(m),k="",$.value="",F()});const j=document.querySelectorAll(".tab");let R="filter-all";j.forEach(e=>{e.addEventListener("click",t=>{j.forEach(a=>a.classList.remove("active"));const r=t.target;r.classList.add("active"),R=r.id,F()})});X();F();
